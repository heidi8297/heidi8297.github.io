<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8">
  <title>Natural Disasters - pared down</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
  <script type="text/javascript">
    var analytics = true;
    let loc = window.location
    console.log("hostname: ",loc.hostname,"    port: ",loc.port,"    protocol: ",loc.protocol)
    //try {   // temporarily removing error handling so I can see why this sometimes fails
      if(
        'localStorage' in window &&
        window['localStorage'] !== null &&
        localStorage["analytics"] == 'no' // check for local 'analytics' variable
      ) { analytics = false } else
      {
        console.log('localStorage' in window)
        console.log(window['localStorage'] !== null)
        console.log(localStorage["analytics"] == 'no')
        console.log(localStorage["analytics"])
      }            // if value is set to no, DO NOT TRACK
    //} catch (e) {}                 // this logic courtesy of Mathieu Decaffmeyer
    if (analytics) {
      window.dataLayer = window.dataLayer || [];
      function gtag() {dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-12NPY4109R');
    } else { console.log('GA disabled') }
  </script> -->


  <!-- Make the webpage perform better on mobile? -->
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=0.24,maximum-scale=5.0,user-scalable=yes">

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="description" content="An investigation of data visualizations">
  <meta name="news_keywords" content="scrollytelling, canvas, scroll-driven, graphics, d3, scrollmagic, waypoints, graph-scoll, scrollstory, in-view">

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="Meta Visualization" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://heidistockton.com/metaviz/naturalDisastersGifLonger.gif" />
  <meta property="og:description" content="An investigation of data visualizations" />
  <meta property="og:url" content="https://heidistockton.com/naturaldisasterspareddown/" />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Cabin+Sketch&family=Raleway&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <script defer src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>

  <!-- primary style sheet -->
  <link rel="stylesheet" href="/core.css" type="text/css">
  <link rel='stylesheet' href='nd-styles.css' />


</head>


<body>
  <div class="mobileWarning"> <!--show this warning to mobile users -->
    <p>Sorry, but this particular visualization really commands a larger viewing
      screen than what you are currently using.  I'd love for you to come back on
      a desktop!<br /><br />In the meantime, my homepage is mobile-friendly.</p>
    <br>
    <form class="roleForm" action="" method="get">
      <input class="button noCTA" type="button" name="proceedButton" value="Proceed anyway" onclick="proceedAnyway()">
      <input class="button" type="button" name="homeButton" value="Return home" onclick="goHome()">
    </form>
  </div>

  <header>
    <h1>Natural Disasters</h1>
    <h2>1960-2018</h2>
    <p>Earthquakes. Volcanoes. Tornadoes. Hurricanes. These natural events remind
      us that we are small and vulnerable — and that living on this dynamic planet
      will always entail risk.<br /><em>American Museum of Natural History</em></p>
    <p id="log"></p>
  </header>


  <main class = "mainContent">
    <div class='library__graphic graphic flex-container'>
      <!-- scrolly text section -->
      <div class='graphic__prose'>
        <div class='preProse active'>
          <tspan class = "zoomInstruct">If the visualization doesn't fit your screen,
          try zooming in/out with ctrl + - (or Cmd + -).<br /><br /></tspan>
          <tspan class = "scrollToDiscover">Scroll to reveal the story!</tspan>
          <div class="rotateInstruct">
            <img class="rotateIcon" src="rotateToLandscape.png" alt="">
            <tspan>Rotating to landscape may give you a better view.</tspan>
          </div>
        </div>
        <div class='trigger pane1 active' data-step='0'>
          <p>This is the story of nearly 9000 natural disasters that have occurred
            globally between 1960 and 2018.  If it feels like more disasters have
            occurred in recent years, your perception is correct.  The increasing
            frequency is troubling as is the nature and impact of those events, and
            who is most affected by them.  Let's take a look...</p>
        </div>
        <div class='trigger pane2' data-step='1'>
          <p>This data set chronicles disasters across 7 different categories,
            shown here by total event count.  So far the most frequent types of disasters
            have been floods and storms.</p>
        </div>
        <!-- <div class="legendSticky"> -->  <!-- this div is to assist with positioning/containing the legends -->


        <div class='trigger pane3' data-step='2'>
          <p>Here is a look at how those events have played out across the globe.</p>
        </div>


        <!-- </div> --> <!-- legendSticky -->


      </div>

      <!-- this is where the drawing spaces will sit (canvas and svg) -->
      <div class="vizWrapper">  <!-- added this wrapper to improve mobile landscape view -->
        <div id="viz-container">
        </div>
      </div>

    </div>


    <div id="contactMe">
      <!-- placeholder for my standard "contact me" footer content -->
      <div w3-include-html="/footer.html"></div>
    </div>

  </main>




  <!-- for the graphic - d3-legend and annotation libraries courtesy of Susie Lu -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-annotation/2.5.1/d3-annotation.min.js" charset="utf-8"></script>
  <script src='nd-main.js'></script>

  <!-- load core.js file -->
  <script src="/core.js"></script>

  <!-- The scroll library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/noframework.waypoints.js"></script>

  <!-- FPS stats utility (for testing) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/stats.js/r14/Stats.js"></script>

  <!-- setting up the waypoints/triggers -->
  <script src="setupWaypointsTriggers.js"></script>

  <!-- run javascript to include external html files where specified -->
  <script>includeHTML()</script>

</body>

</html>
